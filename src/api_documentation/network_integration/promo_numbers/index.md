Promo Numbers
=============

Advertiser Campaign and Affiliate Campaign Promo Numbers
--------------------------------------------------------

The API provides the ability to manage promo numbers for a given
campaign. Promo numbers are uniquely identified by the phone number
itself and these numbers are always generated by the Invoca platform.
Therefore, the operations on the promo numbers interface are not
idempotent. When you POST a promo number, we return the promo\_number in
the response body. This capability is JSON‐only.

<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 40%" />
<col style="width: 47%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Type</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>id</td>
<td>integer (read-only)</td>
<td>The internal Invoca id of the promo number.</td>
</tr>
<tr class="even">
<td>id_from_network</td>
<td>string</td>
<td>Network specific id of the promo number.</td>
</tr>
<tr class="odd">
<td>description</td>
<td>string (required)</td>
<td>Arbitrary description</td>
</tr>
<tr class="even">
<td>media_type</td>
<td>string (required)</td>
<td><p>one of:</p>
<p>“Online: Content / Review Site”</p>
<p>“Online: Discount / Coupon Site”</p>
<p>“Online: Display”</p>
<p>“Online: Email”</p>
<p>“Online: Rewards / Incentive”</p>
<p>“Online: Lead Form / Co Reg”</p>
<p>“Online: Search”</p>
<p>“Online: Social Media”</p>
<p>“Online: Software”</p>
<p>“Online: Other”</p>
<p>“Mobile: Apps”</p>
<p>“Mobile: Display”</p>
<p>“Mobile: Search”</p>
<p>“Mobile: SMS”</p>
<p>“Mobile: Other”</p>
<p>“Offline: Business Publication”</p>
<p>“Offline: Call Center”</p>
<p>“Offline: Direct Mail”</p>
<p>“Offline: Directory”</p>
<p>“Offline: Newspaper”</p>
<p>“Offline: In­Call Ad”</p>
<p>“Offline: Magazine”</p>
<p>“Offline: Outdoor”</p>
<p>“Offline: Radio”</p>
<p>“Offline: TV”</p>
<p>“Offline: Other”</p></td>
</tr>
<tr class="odd">
<td>object_url</td>
<td>string (read-only)</td>
<td>URL for reaching the promo number in the UI.</td>
</tr>
<tr class="even">
<td>local_center</td>
<td>hash</td>
<td><p>Requires one of the following</p>
<p>City &amp; State required together</p>
<p>A filled field determines the center to start looking for local numbers at.</p>
<p><strong>“tn_prefix”</strong>: an npa</p>
<p><strong>“zipcode”</strong>: a valid zipcode</p>
<p><strong>“city”</strong>: a valid city</p>
<p><strong>“state”</strong>: a valid state</p></td>
</tr>
<tr class="odd">
<td>local_number_preferences</td>
<td>hash</td>
<td><p>Both are optional</p>
<p><strong>"search_radius_miles"</strong>: An integer, greater than or equal to 0. Default is 240. Represents the number of miles from the location to search.</p>
<p><strong>"restrict_to_state"</strong>: A boolean. Default: True. Used to restrict search to be within state boundaries.</p></td>
</tr>
<tr class="even">
<td>tn_prefix_whitelist</td>
<td>array of strings</td>
<td>an array of stringified limiters on the boundaries of where to look for local numbers given as npas (ex. [“805”, “212”])</td>
</tr>
<tr class="odd">
<td>promo_type</td>
<td>string (optional)</td>
<td><p>For international campaigns that support local or mobile numbers. If not passed then promo numbers will default to the organizational default. (US/CA campaigns will continue to use local_center for local numbers)</p>
<p>"Local"</p>
<p>"Mobile"</p></td>
</tr>
<tr class="even">
<td>promo_number_looks_like</td>
<td>string (optional)</td>
<td>For international local promo number creation, a string phone number to try to match can be included. The first five digits will be used. (ex. “805”, “80561”)</td>
</tr>
<tr class="odd">
<td>adwords_account_id</td>
<td>string (optional)</td>
<td>The ID of the AdWords client account to be associated with this promo number. Requires media type to be set to 'Google Call Extension'. (ex. "627-345-9815")</td>
</tr>
</tbody>
</table>

Custom Data
-----------

Promo numbers may have Custom Data Fields applied to them, which will be
applied to calls originating through the promo number. To apply Custom
Data Values to a promo number, the top level parameter `custom_data`
should be assigned a hash with each pair's key corresponding to a
partner name. The value of the pair should be the value to be applied.

For the following example, we would apply the value "Offline newspaper"
to the Custom Data Field "channel".

    {
      "custom_data": {
        "channel": "Offline newspaper"
      }
    }

API Endpoints
-------------

The following endpoints are for use when you have your own ID's
(id\_from\_network) and wish to use that as the identifier.

`https://invoca.net/api/@@NETWORK_API_VERSION/<network_id>/advertisers/<advertiser_id_from_network>/advertiser_campaigns/<advertiser_campaign_id_from_network>/promo_numbers_by_id/<promo_number_id_from_network>.json`

The following endpoints are for use when you do **not** have your own
ID's (id\_from\_network) and you treat the phone number as the
identifier.

`https://invoca.net/api/@@NETWORK_API_VERSION/<network_id>/advertisers/<advertiser_id_from_network>/advertiser_campaigns/<advertiser_campaign_id_from_network>/promo_numbers/<promo_number>.json`
